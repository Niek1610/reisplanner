import{r as we,s as Ie,n as Z,o as je}from"../chunks/scheduler.CoCxny8d.js";import{k as Te,S as Ae,i as Pe,e as k,s as y,t as q,c as v,l as Q,f as I,a as j,d as c,b as K,m as D,g as B,h as f,n as X,j as J,o as ee}from"../chunks/index.B5RvqOIF.js";import{a as De}from"../chunks/store.BWPk7t4-.js";function Y(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Ee(r,e){r.d(1),e.delete(r.key)}function ye(r,e,t,n,i,o,s,l,a,u,g,w){let m=r.length,h=o.length,p=m;const E={};for(;p--;)E[r[p].key]=p;const M=[],V=new Map,A=new Map,C=[];for(p=h;p--;){const d=w(i,o,p),b=t(d);let L=s.get(b);L?n&&C.push(()=>L.p(d,e)):(L=u(b,d),L.c()),V.set(b,M[p]=L),b in E&&A.set(b,Math.abs(p-E[b]))}const _=new Set,P=new Set;function T(d){Te(d,1),d.m(l,g),s.set(d.key,d),g=d.first,h--}for(;m&&h;){const d=M[h-1],b=r[m-1],L=d.key,R=b.key;d===b?(g=d.first,m--,h--):V.has(R)?!s.has(L)||_.has(L)?T(d):P.has(R)?m--:A.get(L)>A.get(R)?(P.add(L),T(d)):(_.add(R),m--):(a(b,s),m--)}for(;m--;){const d=r[m];V.has(d.key)||a(d,s)}for(;h;)T(M[h-1]);return we(C),M}function te(r,e,t){const n=r.slice();return n[17]=e[t],n[19]=t,n}function le(r,e,t){const n=r.slice();return n[20]=e[t],n[19]=t,n}function se(r){let e,t="Stop Audio",n,i;return{c(){e=k("button"),e.textContent=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-vjgvql"&&(e.textContent=t),this.h()},h(){D(e,"class","stopButton")},m(o,s){B(o,e,s),n||(i=X(e,"click",r[7]),n=!0)},p:Z,d(o){o&&c(e),n=!1,i()}}}function ie(r){let e,t=`Als je op de knop drukt, vermeld dan de begin- en eindbestemming in de
        vorm: "beginbestemming NAAR eindbestemming". Het woord "NAAR" is
        essentieel voor het systeem om de route correct te interpreteren.`;return{c(){e=k("p"),e.textContent=t,this.h()},l(n){e=v(n,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-l25oc"&&(e.textContent=t),this.h()},h(){D(e,"class","info")},m(n,i){B(n,e,i)},d(n){n&&c(e)}}}function ne(r){let e,t,n,i,o=r[3].route.vertrekAdres+"",s,l,a,u,g=r[3].route.aankomstAdres+"",w,m,h,p,E,M,V,A=r[3].route.vertrektijd&&re(r),C=r[3].route.aankomsttijd&&oe(r),_=r[3].route.totaleDuur&&ae(r),P=r[3].route.stappen&&r[3].route.stappen.length>0&&fe(r),T=r[3].route.waarschuwingen&&r[3].route.waarschuwingen.length>0&&ve(r);return{c(){e=k("div"),t=k("h2"),n=k("i"),i=y(),s=q(o),l=y(),a=k("i"),u=y(),w=q(g),m=y(),h=k("div"),A&&A.c(),p=y(),C&&C.c(),E=y(),_&&_.c(),M=y(),P&&P.c(),V=y(),T&&T.c(),this.h()},l(d){e=v(d,"DIV",{class:!0});var b=j(e);t=v(b,"H2",{class:!0});var L=j(t);n=v(L,"I",{class:!0}),j(n).forEach(c),i=I(L),s=K(L,o),l=I(L),a=v(L,"I",{class:!0}),j(a).forEach(c),u=I(L),w=K(L,g),L.forEach(c),m=I(b),h=v(b,"DIV",{class:!0});var R=j(h);A&&A.l(R),p=I(R),C&&C.l(R),R.forEach(c),E=I(b),_&&_.l(b),M=I(b),P&&P.l(b),V=I(b),T&&T.l(b),b.forEach(c),this.h()},h(){D(n,"class","fas fa-route"),D(a,"class","fas fa-arrow-right"),D(t,"class","center-text"),D(h,"class","time-container"),D(e,"class","route-overview")},m(d,b){B(d,e,b),f(e,t),f(t,n),f(t,i),f(t,s),f(t,l),f(t,a),f(t,u),f(t,w),f(e,m),f(e,h),A&&A.m(h,null),f(h,p),C&&C.m(h,null),f(e,E),_&&_.m(e,null),f(e,M),P&&P.m(e,null),f(e,V),T&&T.m(e,null)},p(d,b){b&8&&o!==(o=d[3].route.vertrekAdres+"")&&J(s,o),b&8&&g!==(g=d[3].route.aankomstAdres+"")&&J(w,g),d[3].route.vertrektijd?A?A.p(d,b):(A=re(d),A.c(),A.m(h,p)):A&&(A.d(1),A=null),d[3].route.aankomsttijd?C?C.p(d,b):(C=oe(d),C.c(),C.m(h,null)):C&&(C.d(1),C=null),d[3].route.totaleDuur?_?_.p(d,b):(_=ae(d),_.c(),_.m(e,M)):_&&(_.d(1),_=null),d[3].route.stappen&&d[3].route.stappen.length>0?P?P.p(d,b):(P=fe(d),P.c(),P.m(e,V)):P&&(P.d(1),P=null),d[3].route.waarschuwingen&&d[3].route.waarschuwingen.length>0?T?T.p(d,b):(T=ve(d),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},d(d){d&&c(e),A&&A.d(),C&&C.d(),_&&_.d(),P&&P.d(),T&&T.d()}}}function re(r){let e,t,n,i=r[3].route.vertrektijd+"",o;return{c(){e=k("p"),t=k("i"),n=y(),o=q(i),this.h()},l(s){e=v(s,"P",{});var l=j(e);t=v(l,"I",{class:!0}),j(t).forEach(c),n=I(l),o=K(l,i),l.forEach(c),this.h()},h(){D(t,"class","fas fa-clock")},m(s,l){B(s,e,l),f(e,t),f(e,n),f(e,o)},p(s,l){l&8&&i!==(i=s[3].route.vertrektijd+"")&&J(o,i)},d(s){s&&c(e)}}}function oe(r){let e,t,n,i=r[3].route.aankomsttijd+"",o;return{c(){e=k("p"),t=k("i"),n=y(),o=q(i),this.h()},l(s){e=v(s,"P",{});var l=j(e);t=v(l,"I",{class:!0}),j(t).forEach(c),n=I(l),o=K(l,i),l.forEach(c),this.h()},h(){D(t,"class","fas fa-arrow-right")},m(s,l){B(s,e,l),f(e,t),f(e,n),f(e,o)},p(s,l){l&8&&i!==(i=s[3].route.aankomsttijd+"")&&J(o,i)},d(s){s&&c(e)}}}function ae(r){let e,t,n,i=r[3].route.totaleDuur+"",o;return{c(){e=k("p"),t=k("i"),n=y(),o=q(i),this.h()},l(s){e=v(s,"P",{});var l=j(e);t=v(l,"I",{class:!0}),j(t).forEach(c),n=I(l),o=K(l,i),l.forEach(c),this.h()},h(){D(t,"class","fas fa-hourglass-half")},m(s,l){B(s,e,l),f(e,t),f(e,n),f(e,o)},p(s,l){l&8&&i!==(i=s[3].route.totaleDuur+"")&&J(o,i)},d(s){s&&c(e)}}}function fe(r){let e=[],t=new Map,n,i=Y(r[3].route.stappen);const o=s=>s[19];for(let s=0;s<i.length;s+=1){let l=le(r,i,s),a=o(l);t.set(a,e[s]=ke(a,l))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();n=ee()},l(s){for(let l=0;l<e.length;l+=1)e[l].l(s);n=ee()},m(s,l){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,l);B(s,n,l)},p(s,l){l&8&&(i=Y(s[3].route.stappen),e=ye(e,l,o,1,s,i,t,n.parentNode,Ee,ke,n,le))},d(s){s&&c(n);for(let l=0;l<e.length;l+=1)e[l].d(s)}}}function ue(r){let e,t,n,i=r[20].type+"",o;return{c(){e=k("p"),t=k("i"),n=y(),o=q(i),this.h()},l(s){e=v(s,"P",{});var l=j(e);t=v(l,"I",{class:!0}),j(t).forEach(c),n=I(l),o=K(l,i),l.forEach(c),this.h()},h(){D(t,"class","fas fa-directions")},m(s,l){B(s,e,l),f(e,t),f(e,n),f(e,o)},p(s,l){l&8&&i!==(i=s[20].type+"")&&J(o,i)},d(s){s&&c(e)}}}function ce(r){let e,t,n,i=r[20].vertrek+"",o,s,l=r[20].vertrektijd&&he(r);return{c(){e=k("p"),t=k("i"),n=y(),o=q(i),s=y(),l&&l.c(),this.h()},l(a){e=v(a,"P",{});var u=j(e);t=v(u,"I",{class:!0}),j(t).forEach(c),n=I(u),o=K(u,i),s=I(u),l&&l.l(u),u.forEach(c),this.h()},h(){D(t,"class","fas fa-map-marker-alt")},m(a,u){B(a,e,u),f(e,t),f(e,n),f(e,o),f(e,s),l&&l.m(e,null)},p(a,u){u&8&&i!==(i=a[20].vertrek+"")&&J(o,i),a[20].vertrektijd?l?l.p(a,u):(l=he(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(a){a&&c(e),l&&l.d()}}}function he(r){let e=r[20].vertrektijd+"",t;return{c(){t=q(e)},l(n){t=K(n,e)},m(n,i){B(n,t,i)},p(n,i){i&8&&e!==(e=n[20].vertrektijd+"")&&J(t,e)},d(n){n&&c(t)}}}function de(r){let e,t,n,i=r[20].aankomst+"",o,s,l=r[20].aankomsttijd&&pe(r);return{c(){e=k("p"),t=k("i"),n=y(),o=q(i),s=y(),l&&l.c(),this.h()},l(a){e=v(a,"P",{});var u=j(e);t=v(u,"I",{class:!0}),j(t).forEach(c),n=I(u),o=K(u,i),s=I(u),l&&l.l(u),u.forEach(c),this.h()},h(){D(t,"class","fas fa-map-marker-alt")},m(a,u){B(a,e,u),f(e,t),f(e,n),f(e,o),f(e,s),l&&l.m(e,null)},p(a,u){u&8&&i!==(i=a[20].aankomst+"")&&J(o,i),a[20].aankomsttijd?l?l.p(a,u):(l=pe(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(a){a&&c(e),l&&l.d()}}}function pe(r){let e=r[20].aankomsttijd+"",t;return{c(){t=q(e)},l(n){t=K(n,e)},m(n,i){B(n,t,i)},p(n,i){i&8&&e!==(e=n[20].aankomsttijd+"")&&J(t,e)},d(n){n&&c(t)}}}function me(r){let e,t,n,i=r[20].duur+"",o;return{c(){e=k("p"),t=k("i"),n=y(),o=q(i),this.h()},l(s){e=v(s,"P",{});var l=j(e);t=v(l,"I",{class:!0}),j(t).forEach(c),n=I(l),o=K(l,i),l.forEach(c),this.h()},h(){D(t,"class","fas fa-hourglass-half")},m(s,l){B(s,e,l),f(e,t),f(e,n),f(e,o)},p(s,l){l&8&&i!==(i=s[20].duur+"")&&J(o,i)},d(s){s&&c(e)}}}function _e(r){let e,t,n,i=r[20].instructie+"",o;return{c(){e=k("p"),t=k("i"),n=y(),o=q(i),this.h()},l(s){e=v(s,"P",{});var l=j(e);t=v(l,"I",{class:!0}),j(t).forEach(c),n=I(l),o=K(l,i),l.forEach(c),this.h()},h(){D(t,"class","fas fa-info-circle")},m(s,l){B(s,e,l),f(e,t),f(e,n),f(e,o)},p(s,l){l&8&&i!==(i=s[20].instructie+"")&&J(o,i)},d(s){s&&c(e)}}}function ke(r,e){let t,n,i,o,s,l,a,u=e[20].type&&ue(e),g=(e[20].vertrek||e[20].vertrektijd)&&ce(e),w=(e[20].aankomst||e[20].aankomsttijd)&&de(e),m=e[20].duur&&me(e),h=e[20].instructie&&_e(e);return{key:r,first:null,c(){t=k("div"),u&&u.c(),n=y(),i=k("div"),g&&g.c(),o=y(),w&&w.c(),s=y(),m&&m.c(),l=y(),h&&h.c(),a=y(),this.h()},l(p){t=v(p,"DIV",{class:!0});var E=j(t);u&&u.l(E),n=I(E),i=v(E,"DIV",{class:!0});var M=j(i);g&&g.l(M),o=I(M),w&&w.l(M),M.forEach(c),s=I(E),m&&m.l(E),l=I(E),h&&h.l(E),a=I(E),E.forEach(c),this.h()},h(){D(i,"class","time-location"),D(t,"class","step-card"),this.first=t},m(p,E){B(p,t,E),u&&u.m(t,null),f(t,n),f(t,i),g&&g.m(i,null),f(i,o),w&&w.m(i,null),f(t,s),m&&m.m(t,null),f(t,l),h&&h.m(t,null),f(t,a)},p(p,E){e=p,e[20].type?u?u.p(e,E):(u=ue(e),u.c(),u.m(t,n)):u&&(u.d(1),u=null),e[20].vertrek||e[20].vertrektijd?g?g.p(e,E):(g=ce(e),g.c(),g.m(i,o)):g&&(g.d(1),g=null),e[20].aankomst||e[20].aankomsttijd?w?w.p(e,E):(w=de(e),w.c(),w.m(i,null)):w&&(w.d(1),w=null),e[20].duur?m?m.p(e,E):(m=me(e),m.c(),m.m(t,l)):m&&(m.d(1),m=null),e[20].instructie?h?h.p(e,E):(h=_e(e),h.c(),h.m(t,a)):h&&(h.d(1),h=null)},d(p){p&&c(t),u&&u.d(),g&&g.d(),w&&w.d(),m&&m.d(),h&&h.d()}}}function ve(r){let e,t=[],n=new Map,i=Y(r[3].route.waarschuwingen);const o=s=>s[19];for(let s=0;s<i.length;s+=1){let l=te(r,i,s),a=o(l);n.set(a,t[s]=ge(a,l))}return{c(){e=k("ul");for(let s=0;s<t.length;s+=1)t[s].c()},l(s){e=v(s,"UL",{});var l=j(e);for(let a=0;a<t.length;a+=1)t[a].l(l);l.forEach(c)},m(s,l){B(s,e,l);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,l){l&8&&(i=Y(s[3].route.waarschuwingen),t=ye(t,l,o,1,s,i,n,e,Ee,ge,null,te))},d(s){s&&c(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function ge(r,e){let t,n,i,o=e[17]+"",s;return{key:r,first:null,c(){t=k("li"),n=k("i"),i=y(),s=q(o),this.h()},l(l){t=v(l,"LI",{});var a=j(t);n=v(a,"I",{class:!0}),j(n).forEach(c),i=I(a),s=K(a,o),a.forEach(c),this.h()},h(){D(n,"class","fas fa-exclamation-circle"),this.first=t},m(l,a){B(l,t,a),f(t,n),f(t,i),f(t,s)},p(l,a){e=l,a&8&&o!==(o=e[17]+"")&&J(s,o)},d(l){l&&c(t)}}}function Ce(r){let e,t='<link rel="stylesheet" href="style.css"/> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>',n,i,o,s='<span class="hamburger-line"></span> <span class="hamburger-line"></span> <span class="hamburger-line"></span>',l,a,u,g="Log Uit",w,m,h,p,E,M,V,A,C,_,P,T,d,b,L,R,G,F,N=r[4]&&se(r),H=r[3]==null&&ie(),U=r[3]!=null&&ne(r);return{c(){e=k("head"),e.innerHTML=t,n=y(),i=k("div"),o=k("button"),o.innerHTML=s,l=y(),a=k("div"),u=k("button"),u.textContent=g,m=y(),h=k("div"),p=k("div"),E=k("button"),V=y(),A=k("p"),C=q(r[1]),_=y(),N&&N.c(),P=y(),T=k("audio"),d=y(),b=k("br"),L=y(),H&&H.c(),R=y(),U&&U.c(),this.h()},l(S){e=v(S,"HEAD",{"data-svelte-h":!0}),Q(e)!=="svelte-ihc7mv"&&(e.innerHTML=t),n=I(S),i=v(S,"DIV",{class:!0});var O=j(i);o=v(O,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(o)!=="svelte-uxqceb"&&(o.innerHTML=s),l=I(O),a=v(O,"DIV",{class:!0});var $=j(a);u=v($,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(u)!=="svelte-1vip4fi"&&(u.textContent=g),$.forEach(c),O.forEach(c),m=I(S),h=v(S,"DIV",{class:!0});var W=j(h);p=v(W,"DIV",{class:!0});var z=j(p);E=v(z,"BUTTON",{class:!0}),j(E).forEach(c),V=I(z),A=v(z,"P",{class:!0});var x=j(A);C=K(x,r[1]),x.forEach(c),_=I(z),N&&N.l(z),P=I(z),T=v(z,"AUDIO",{id:!0}),j(T).forEach(c),d=I(z),b=v(z,"BR",{}),L=I(z),H&&H.l(z),z.forEach(c),R=I(W),U&&U.l(W),W.forEach(c),this.h()},h(){D(o,"class","hamburger"),D(u,"class","logout"),D(a,"class",w="menu "+(r[2]?"open":"")),D(i,"class","menu-container"),D(E,"class",M=r[0]?"pulse":"round-button"),D(A,"class","responseTekst"),D(T,"id","audioPlayer"),T.controls=!0,T.hidden=!0,D(p,"class","center"),D(h,"class","grid")},m(S,O){B(S,e,O),B(S,n,O),B(S,i,O),f(i,o),f(i,l),f(i,a),f(a,u),B(S,m,O),B(S,h,O),f(h,p),f(p,E),f(p,V),f(p,A),f(A,C),f(p,_),N&&N.m(p,null),f(p,P),f(p,T),f(p,d),f(p,b),f(p,L),H&&H.m(p,null),f(h,R),U&&U.m(h,null),G||(F=[X(o,"click",r[5]),X(u,"click",De.logout),X(E,"click",r[6])],G=!0)},p(S,[O]){O&4&&w!==(w="menu "+(S[2]?"open":""))&&D(a,"class",w),O&1&&M!==(M=S[0]?"pulse":"round-button")&&D(E,"class",M),O&2&&J(C,S[1]),S[4]?N?N.p(S,O):(N=se(S),N.c(),N.m(p,P)):N&&(N.d(1),N=null),S[3]==null?H||(H=ie(),H.c(),H.m(p,null)):H&&(H.d(1),H=null),S[3]!=null?U?U.p(S,O):(U=ne(S),U.c(),U.m(h,null)):U&&(U.d(1),U=null)},i:Z,o:Z,d(S){S&&(c(e),c(n),c(i),c(m),c(h)),N&&N.d(),H&&H.d(),U&&U.d(),G=!1,we(F)}}}let be=3;function Le(r,e,t){let n="",i,o,s="Klik om te spreken",l,a=!1,u=!1,g=0,w=null,m=!1,h,p=!1;function E(){t(2,u=!u)}async function M(){t(10,m=!0),n==""&&console.log("No transcript is set. got: "+n);let _;try{if(_=await fetch("/homepage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:n})}),!_.ok)throw t(1,s=`Er is een fout opgetreden (${_.status})`),new Error(`HTTP error! status: ${_.status}`)}catch(F){return console.error("An error occurred:",F)}t(10,m=!1),t(3,h=await _.json());const P=h.audio;h.route;const T=atob(P),d=new Array(T.length);for(let F=0;F<T.length;F++)d[F]=T.charCodeAt(F);const b=new Uint8Array(d),L=new Blob([b],{type:"audio/mpeg"}),R=URL.createObjectURL(L),G=document.getElementById("audioPlayer");G.src=R,G.onplay=()=>{t(4,p=!0)},G.onended=()=>{t(4,p=!1)},G.play().catch(F=>{console.error("Err audio:",F)})}je(()=>{"SpeechRecognition"in window||"webkitSpeechRecognition"in window?(i=new(window.SpeechRecognition||window.webkitSpeechRecognition),i.interimResults=!0,i.continuous=!0,i.lang="nl-NL",i.onresult=_=>{clearInterval(l),n=Array.from(_.results).map(P=>P[0]).map(P=>P.transcript).join(""),clearTimeout(o),o=setTimeout(A,2e3)},i.onerror=_=>{console.log("err:",_.error)}):console.error("Spraak wordt niet ondersteund in de browser")});async function V(){try{i&&(a?A():(i.start(),t(0,a=!0),l=setInterval(()=>{a||i.start()},3e3)))}catch(_){console.log(_)}}async function A(){a&&(i.stop(),t(0,a=!1),clearInterval(l),clearTimeout(o),M().catch(_=>{console.error(_)}))}function C(){const _=document.getElementById("audioPlayer");_.pause(),_.currentTime=0,t(4,p=!1)}return r.$$.update=()=>{r.$$.dirty&1793&&(w!==null&&(clearInterval(w),t(9,w=null)),a?t(9,w=setInterval(()=>{t(1,s="Aan het luisteren "+".".repeat(g)),t(8,g=(g+1)%(be+1))},500)):m?t(9,w=setInterval(()=>{t(1,s="Aan het denken"+".".repeat(g)),t(8,g=(g+1)%(be+1))},500)):t(1,s="Klik om te spreken"))},[a,s,u,h,p,E,V,C,g,w,m]}class Ne extends Ae{constructor(e){super(),Pe(this,e,Le,Ce,Ie,{})}}export{Ne as component};
